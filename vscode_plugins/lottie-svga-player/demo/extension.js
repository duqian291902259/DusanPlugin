(()=>{"use strict";var t={920:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LottieFileEditorProvider=void 0;const i=n(17),s=n(496),o=n(912),a=n(593),r=n(147);class d extends o.Disposable{static async create(t,e,n){const i="string"==typeof e?s.Uri.parse(e):t,o=await d.readFile(i);return new d(t,o,n)}static async readFile(t){return"untitled"===t.scheme?new Uint8Array:s.workspace.fs.readFile(t)}constructor(t,e,n){super(),this._edits=[],this._savedEdits=[],this._onDidDispose=this._register(new s.EventEmitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeDocument=this._register(new s.EventEmitter),this.onDidChangeContent=this._onDidChangeDocument.event,this._onDidChange=this._register(new s.EventEmitter),this.onDidChange=this._onDidChange.event,this._uri=t,this._documentData=e,this._delegate=n}get uri(){return this._uri}get documentData(){return this._documentData}dispose(){this._onDidDispose.fire(),super.dispose()}makeEdit(t){this._edits.push(t),this._onDidChange.fire({label:"Stroke",undo:async()=>{this._edits.pop(),this._onDidChangeDocument.fire({edits:this._edits})},redo:async()=>{this._edits.push(t),this._onDidChangeDocument.fire({edits:this._edits})}})}async save(t){await this.saveAs(this.uri,t),this._savedEdits=Array.from(this._edits)}async saveAs(t,e){const n=await this._delegate.getFileData();e.isCancellationRequested||await s.workspace.fs.writeFile(t,n)}async revert(t){const e=await d.readFile(this.uri);this._documentData=e,this._edits=this._savedEdits,this._onDidChangeDocument.fire({content:e,edits:this._edits})}async backup(t,e){return await this.saveAs(t,e),{id:t.toString(),delete:async()=>{try{await s.workspace.fs.delete(t)}catch{}}}}}class c{static register(t){return s.window.registerCustomEditorProvider(c.viewType,new c(t),{webviewOptions:{retainContextWhenHidden:!0},supportsMultipleEditorsPerDocument:!1})}constructor(t){this._context=t,this.webviews=new l,this._onDidChangeCustomDocument=new s.EventEmitter,this.onDidChangeCustomDocument=this._onDidChangeCustomDocument.event,this._requestId=1,this._callbacks=new Map}async openCustomDocument(t,e,n){const i=await d.create(t,e.backupId,{getFileData:async()=>{console.log("openCustomDocument "+t);const e=Array.from(this.webviews.get(i.uri));if(!e.length)throw new Error("Could not find webview to save for");const n=e[0],s=await this.postMessageWithResponse(n,"getFileData",{});return new Uint8Array(s)}}),s=[];return s.push(i.onDidChange((t=>{this._onDidChangeCustomDocument.fire({document:i,...t})}))),s.push(i.onDidChangeContent((t=>{for(const e of this.webviews.get(i.uri))this.postMessage(e,"update",{edits:t.edits,content:t.content})}))),i.onDidDispose((()=>(0,o.disposeAll)(s))),i}async resolveCustomEditor(t,e,n){this.webviews.add(t.uri,e),e.webview.options={enableScripts:!0},e.webview.html=this.getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage((e=>this.onMessage(t,e))),e.webview.onDidReceiveMessage((n=>{let i=t.documentData+"";if(console.log("document.documentData:"+i),"ready"===n.type){let n=(0,a.isJsonString)(i);if(console.log("read to play,checkLottie="+n),!0===n){const n=this.getHtmlContent(i);this.postMessage(e,"init",{value:t.documentData}),e.webview.html=n}else s.commands.executeCommand("workbench.action.closeActiveEditor"),console.log("not lottie file="+i),s.commands.executeCommand("vscode.openWith",t.uri,"default",e.viewColumn)}}))}saveCustomDocument(t,e){return t.save(e)}saveCustomDocumentAs(t,e,n){return t.saveAs(e,n)}revertCustomDocument(t,e){return t.revert(e)}backupCustomDocument(t,e,n){return t.backup(e.destination,n)}getHtmlForWebview(t){const e=s.Uri.file(i.join(this._context.extensionPath,"demo","lottie.json"));return r.readFileSync(e.path,"utf8"),this.getHtmlContent("{}")}getHtmlContent(t){return`<!DOCTYPE html>\n\t\t<html>\n\t\t<head>\n\t\t\t<meta charset="UTF-8"/>\n\t\t\t<meta http-equiv="X-UA-Compatible" content="IE=edge"/>\n\t\t\t<meta name="description" content="LottiePlayer by 杜小菜，duqian2010@gmail.com">\n\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0"/>\n\t\t\t<title>LottiePlayer</title>\n\t\t\t<script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.4/lottie.min.js"><\/script>\n\t\t\t<style>\n\t\t\t  body{\n\t\t\t\t background-color:#3C3F41;\n\t\t\t  }\n\t\t\t  #app {\n\t\t\t\twidth: 500px;\n\t\t\t\theight: 500px;\n\t\t\t\tmargin:10px auto;\n\t\t\t  }\n\t\t\t  #lottieTitle {\n\t\t\t\twidth: 300px;\n\t\t\t\tmargin:60px auto;\n\t\t\t\tdisplay:flex;\n\t\t\t  }\n\t\t\t  button {\n\t\t\t\twidth:50px;height:30px;padding:5px 0px;margin-left:10px;text-align:center;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tborder: none;\n\t\t\t\tcolor:#000000;\n\t\t\t  }\n\t\t\t  .title{\n\t\t\t\theight: 30px;\n\t\t\t\tline-height: 30px;\n\t\t\t\tmargin: 0;\n\t\t\t\tcolor:#66FFFFFF;\n\t\t\t  }\n\t\t\n\t\t\t</style>\n\t\t</head>\n\t\t<body>\n\t\t<div id="lottieTitle">\n\t\t\t<h4 class="title">LottiePlayer </h4>\n\t\t\t<button onclick="startAnimation()"> Play</button>\n\t\t\t<button onclick="pauseAnimation()"> Pause</button>\n\t\t\t<button onclick="stopAnimation()"> Clear</button>\n\t\t</div>\n\t\t<div id="app"></div>\n\t\t</body>\n\t\t<script>\n\n\t\t\tlet animationData = ${t};\n\n\t\t\t(function () {\n\t\t\t\tconst vscode = acquireVsCodeApi();\n\t\t\t\t//Handle messages from the extension\n\t\t\t\twindow.addEventListener('message', async e => {\n\t\t\t\t\tconst {\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tbody,\n\t\t\t\t\t} = e.data;\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase 'init': {\n\t\t\t\t\t\t\tconsole.log("ini player");\n\t\t\t\t\t\t\tconst originData = body.value.data+"";\n\t\t\t\t\t\t\t//const data = new Uint8Array(originData);\n\t\t\t\t\t\t\t//console.log("data=" + data);\n\t\t\t\t\t\t\tconsole.log("originData=" + originData);\n\t\t\t\t\t\t\tanimationData = originData;\n\t\t\t\t\t\t\tinitPlayer();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvscode.postMessage({\n\t\t\t\t\ttype: 'ready'\n\t\t\t\t});\n\t\t\t}());\n\t\t\t\n\t\t\tvar player;\n\t\t\tinitPlayer();\n\t\t\tfunction initPlayer(){\n\t\t\t   if(player)return;\n\t\t\t   player = lottie.loadAnimation({\n\t\t\t\t  container: document.querySelector("#app"),\n\t\t\t\t  //path: "https://assets10.lottiefiles.com/packages/lf20_l3qxn9jy.json",\n\t\t\t\t  animationData: animationData, // the animation data\n\t\t\t\t  loop: true,\n\t\t\t\t  autoplay: true,\n\t\t\t\t  renderer: "svg",\n\t\t\t\t});\n\t\t\t}\n\t\t\t//play\n\t\t\tfunction startAnimation(){\n\t\t\t\tinitPlayer();\n\t\t\t\tplayer.play();\n\t\t\t}\n\t\t\n\t\t\t//pause\n\t\t\tfunction pauseAnimation(){\n\t\t\t\tinitPlayer();\n\t\t\t\tplayer.pause();\n\t\t\t}\n\t\t\n\t\t\t//clear or stop\n\t\t\tfunction stopAnimation(){\n\t\t\t\tinitPlayer();\n\t\t\t\tplayer.destroy();\n\t\t\t\tplayer = null;\n\t\t\t}\n\t\t\n\t\t<\/script>\n\t\t</html>\n\t\t`}postMessageWithResponse(t,e,n){const i=this._requestId++,s=new Promise((t=>this._callbacks.set(i,t)));return t.webview.postMessage({type:e,requestId:i,body:n}),s}postMessage(t,e,n){t.webview.postMessage({type:e,body:n})}onMessage(t,e){switch(e.type){case"stroke":return void t.makeEdit(e);case"response":{const t=this._callbacks.get(e.requestId);return void t?.(e.body)}}}}e.LottieFileEditorProvider=c,c.viewType="lottie.preview";class l{constructor(){this._webviews=new Set}*get(t){const e=t.toString();for(const t of this._webviews)t.resource===e&&(yield t.webviewPanel)}add(t,e){const n={resource:t.toString(),webviewPanel:e};this._webviews.add(n),e.onDidDispose((()=>{this._webviews.delete(n)}))}}},97:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SvgaFileEditorProvider=void 0;const i=n(17),s=n(496),o=n(912),a=n(593);class r extends o.Disposable{static async create(t,e,n){const i="string"==typeof e?s.Uri.parse(e):t,o=await r.readFile(i);return new r(t,o,n)}static async readFile(t){return"untitled"===t.scheme?new Uint8Array:s.workspace.fs.readFile(t)}constructor(t,e,n){super(),this._edits=[],this._savedEdits=[],this._onDidDispose=this._register(new s.EventEmitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeDocument=this._register(new s.EventEmitter),this.onDidChangeContent=this._onDidChangeDocument.event,this._onDidChange=this._register(new s.EventEmitter),this.onDidChange=this._onDidChange.event,this._uri=t,this._documentData=e,this._delegate=n}get uri(){return this._uri}get documentData(){return this._documentData}dispose(){this._onDidDispose.fire(),super.dispose()}makeEdit(t){this._edits.push(t),this._onDidChange.fire({label:"Stroke",undo:async()=>{this._edits.pop(),this._onDidChangeDocument.fire({edits:this._edits})},redo:async()=>{this._edits.push(t),this._onDidChangeDocument.fire({edits:this._edits})}})}async save(t){await this.saveAs(this.uri,t),this._savedEdits=Array.from(this._edits)}async saveAs(t,e){const n=await this._delegate.getFileData();e.isCancellationRequested||await s.workspace.fs.writeFile(t,n)}async revert(t){const e=await r.readFile(this.uri);this._documentData=e,this._edits=this._savedEdits,this._onDidChangeDocument.fire({content:e,edits:this._edits})}async backup(t,e){return await this.saveAs(t,e),{id:t.toString(),delete:async()=>{try{await s.workspace.fs.delete(t)}catch{}}}}}class d{static register(t){return s.window.registerCustomEditorProvider(d.viewType,new d(t),{webviewOptions:{retainContextWhenHidden:!0},supportsMultipleEditorsPerDocument:!1})}constructor(t){this._context=t,this.webviews=new c,this._onDidChangeCustomDocument=new s.EventEmitter,this.onDidChangeCustomDocument=this._onDidChangeCustomDocument.event,this._requestId=1,this._callbacks=new Map}async openCustomDocument(t,e,n){const i=await r.create(t,e.backupId,{getFileData:async()=>{const t=Array.from(this.webviews.get(i.uri));if(!t.length)throw new Error("Could not find webview to save for");const e=t[0],n=await this.postMessageWithResponse(e,"getFileData",{});return new Uint8Array(n)}}),s=[];return s.push(i.onDidChange((t=>{this._onDidChangeCustomDocument.fire({document:i,...t})}))),s.push(i.onDidChangeContent((t=>{for(const e of this.webviews.get(i.uri))this.postMessage(e,"update",{edits:t.edits,content:t.content})}))),i.onDidDispose((()=>(0,o.disposeAll)(s))),i}async resolveCustomEditor(t,e,n){this.webviews.add(t.uri,e),e.webview.options={enableScripts:!0},e.webview.html=this.getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage((e=>this.onMessage(t,e))),e.webview.onDidReceiveMessage((n=>{console.log("document.documentData"),"ready"===n.type&&(console.log("read to play"),this.postMessage(e,"init",{value:t.documentData}))}))}saveCustomDocument(t,e){return t.save(e)}saveCustomDocumentAs(t,e,n){return t.saveAs(e,n)}revertCustomDocument(t,e){return t.revert(e)}backupCustomDocument(t,e,n){return t.backup(e.destination,n)}getHtmlForWebview(t){const e=s.Uri.file(i.join(this._context.extensionPath,"media","svga.perview.js")),n=t.asWebviewUri(e),o=s.Uri.file(i.join(this._context.extensionPath,"media","svga.lite.min.js")),r=t.asWebviewUri(o),d=(s.Uri.file(i.join(this._context.extensionPath,"media","svga_new.html")),(0,a.getNonce)());return this.getHtmlContentNew(d,r,n)}getHtmlContentNew(t,e,n){return`<!DOCTYPE html>\n\t\t<html lang="en">\n\t\t<head>\n\t\t\t<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n\t\t\t<meta name="description" content="SVGAPlayer by 杜小菜，duqian2010@gmail.com">\n\t\t\t<meta http-equiv="X-UA-Compatible" content="IE=edge">\n\t\t\t<meta name="renderer" content="webkit">\n\t\t\t<title>SVGAPlayer</title>\n\t\t\t<style>\n\t\t\t\t\n\t\t\t\thtml {\n\t\t\t\t\tbackground: transparent;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t\tpadding: 0;\n\t\t\t\t}\n\t\t\n\t\t\t\tbody {\n\t\t\t\t\tbackground-color: rgb(60, 63, 65);\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t\tpadding-top: 30px;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\toverflow-x: scroll;\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t}\n\t\t\n\t\t\t\t.container_header {\n\t\t\t\t\twidth: 60%;\n\t\t\t\t\theight: 80px;\n\t\t\t\t\tmargin: 10px auto 0px;\n\t\t\t\t}\n\t\t\n\t\t\t\t.title {\n\t\t\t\t\theight: 30px;\n\t\t\t\t\tline-height: 30px;\n\t\t\t\t\tmargin: 0;\n\t\t\t\t}\n\t\t\n\t\t\t\t#svgaTitle {\n\t\t\t\t\twidth: 50%;\n\t\t\t\t\theight: 30px;\n\t\t\t\t\tmargin: 10px auto 0px;\n\t\t\t\t\tcolor: #ffffff;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tmin-width: 550px;\n\t\t\t\t}\n\t\t\n\t\t\t\tbutton {\n\t\t\t\t\twidth: 50px;\n\t\t\t\t\theight: 30px;\n\t\t\t\t\tpadding: 5px 0px;\n\t\t\t\t\tmargin-left: 10px;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\tborder: none;\n\t\t\t\t}\n\t\t\n\t\t\t\t#topDiv {\n\t\t\t\t\theight: 70px;\n\t\t\t\t\tmin-height: 30px;\n\t\t\t\t\tline-height: 30px;\n\t\t\t\t\tbackground: rgb(60, 63, 65);\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tmargin-left:100px;\n\t\t\t\t}\n\t\t\n\t\t\t\t.switch-bg-btn {\n\t\t\t\t\twidth: 14px;\n\t\t\t\t\theight: 14px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tfloat: left;\n\t\t\t\t\tmargin-left: 8px;\n\t\t\t\t\tmargin-top: 8px;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t\tborder: 1px solid rgb(50, 50, 50);\n\t\t\t\t}\n\t\t\n\t\t\t\t#switch-bg-none {\n\t\t\t\t\tbackground-size: 12px 12px;\n\t\t\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJiYWNrZ3JvdW5kSW1hZ2VfYnlfbW9reSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTAiIGhlaWdodD0iMTAiPgogICAgdmlld0JveD0iMCAwIDEwIDEwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMCAxMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgICAgICAuc3Qwe2ZpbGw6I0ZGRkZGRjt9CiAgICAgICAgLnN0MXtmaWxsOiNDMEMwQzA7fQogICAgPC9zdHlsZT4KICAgIDxyZWN0IGNsYXNzPSJzdDAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIvPgogICAgPHJlY3QgY2xhc3M9InN0MSIgd2lkdGg9IjUiIGhlaWdodD0iNSIvPgogICAgPHJlY3QgeD0iNSIgeT0iNSIgY2xhc3M9InN0MSIgd2lkdGg9IjUiIGhlaWdodD0iNSIvPgo8L3N2Zz4K);\n\t\t\t\t}\n\t\t\n\t\t\t\t#switch-bg-black {\n\t\t\t\t\tbackground-color: black;\n\t\t\t\t}\n\t\t\n\t\t\t\t#switch-bg-white {\n\t\t\t\t\tbackground-color: white;\n\t\t\t\t}\n\t\t\n\t\t\t\t#switch-bg-blue {\n\t\t\t\t\tbackground-color: #3498DB;\n\t\t\t\t}\n\t\t\n\t\t\t\t#switch-bg-green {\n\t\t\t\t\tbackground-color: #30CC71;\n\t\t\t\t}\n\t\t\n\t\t\t\t#switch-bg-yellow {\n\t\t\t\t\tbackground-color: #F1C40D;\n\t\t\t\t}\n\t\t\n\t\t\t\t#switch-bg-red {\n\t\t\t\t\tbackground-color: #C0392B;\n\t\t\t\t}\n\t\t\n\t\t\t\t#infoDiv {\n\t\t\t\t\theight: 30px;\n\t\t\t\t\tline-height: 30px;\n\t\t\t\t\twidth: auto;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tfont-family: '.AppleSystemUIFont', serif;\n\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t\tcursor: default;\n\t\t\t\t}\n\t\t\t\n\t\t\t\t#content-body {\n\t\t\t\t\twidth: 70%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tmargin:20px auto;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\toverflow-x: scroll;\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t}\n\n\t\t\t\t#playerCanvas {\n\t\t\t\t\tmax-width:70%;\n\t\t\t\t\tmax-height:70%;\n\t\t\t\t\toverflow-x: scroll;\n\t\t\t\t\toverflow-y: auto;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\ttransform: translate(-50%,0%);\n\t\t\t\t\tborder: 1px solid #c0c0c0;\n\t\t\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJiYWNrZ3JvdW5kSW1hZ2VfYnlfbW9reSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTAiIGhlaWdodD0iMTAiPgogICAgdmlld0JveD0iMCAwIDEwIDEwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMCAxMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgICAgICAuc3Qwe2ZpbGw6I0ZGRkZGRjt9CiAgICAgICAgLnN0MXtmaWxsOiNDMEMwQzA7fQogICAgPC9zdHlsZT4KICAgIDxyZWN0IGNsYXNzPSJzdDAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIvPgogICAgPHJlY3QgY2xhc3M9InN0MSIgd2lkdGg9IjUiIGhlaWdodD0iNSIvPgogICAgPHJlY3QgeD0iNSIgeT0iNSIgY2xhc3M9InN0MSIgd2lkdGg9IjUiIGhlaWdodD0iNSIvPgo8L3N2Zz4K);\n\t\t\t\t}\n\t\t\t</style>\n\t\t</head>\n\t\t\n\t\t<body oncontextmenu="return false;" onselectstart="return false;">\n\t\t\t<div class="container_header">\n\t\t\t\t<div id="svgaTitle">\n\t\t\t\t\t<h5 class="title">SVGAPlayer,Click color-button to change the background color</h5>\n\t\t\t\t\t<button onclick="startAnimation()">Play</button>\n\t\t\t\t\t<button onclick="pauseAnimation()">Pause</button>\n\t\t\t\t\t<button onclick="stopAnimation()">Clear</button>\n\t\t\t\t</div>\n\t\t\t\t<div id="topDiv">\n\t\t\t\t\t<div class="switch-bg-btn" id="switch-bg-none" onclick="onSwitchBackground(this)"></div>\n\t\t\t\t\t<div class="switch-bg-btn" id="switch-bg-black" onclick="onSwitchBackground(this)"></div>\n\t\t\t\t\t<div class="switch-bg-btn" id="switch-bg-white" onclick="onSwitchBackground(this)"></div>\n\t\t\t\t\t<div class="switch-bg-btn" id="switch-bg-blue" onclick="onSwitchBackground(this)"></div>\n\t\t\t\t\t<div class="switch-bg-btn" id="switch-bg-green" onclick="onSwitchBackground(this)"></div>\n\t\t\t\t\t<div class="switch-bg-btn" id="switch-bg-yellow" onclick="onSwitchBackground(this)"></div>\n\t\t\t\t\t<div class="switch-bg-btn" id="switch-bg-red" onclick="onSwitchBackground(this)"></div>\n\t\t\t\t\t<div id="infoDiv"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div id="content_body">\n\t\t\t\t<div id="content-div">\n\t\t\t\t\t<canvas id="playerCanvas"></canvas>\n\t\t\t\t\t<script nonce="${t}" src="${e}"><\/script>\n\t\t\t\t\t\x3c!-- <script nonce="${t}" src="${n}"><\/script>\n\t\t\t\t\t\x3c!-- <script nonce="WRjNwz1vANRYI2atJBqF1gIllCxZpg90"\n\t\t\t\t\t\tsrc="https://file%2B.vscode-resource.vscode-cdn.net/Users/duqian/Documents/DuQian/MyGithub/MyPlugins/VSCodePlugins/duqian/media/svga.lite.min.js"><\/script>  --\x3e\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\n\t\t\t<script type="text/javascript">\n\t\t\t\twindow.addEventListener('mousewheel', function (event) {\n\t\t\t\t\tif (event.ctrlKey === true || event.metaKey) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}, { passive: false });\n\t\t\n\t\t\t\twindow.addEventListener('DOMMouseScroll', function (event) {\n\t\t\t\t\tif (event.ctrlKey === true || event.metaKey) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}, { passive: false });\n\t\t\n\t\t\n\t\t\t\tconsole.log("init1");\n\t\t\t\tconst {\n\t\t\t\t\tDownloader,\n\t\t\t\t\tParser,\n\t\t\t\t\tPlayer\n\t\t\t\t} = SVGA;\n\t\t\t\tlet parser = new SVGA.Parser();\n\t\t\t\tlet player = new SVGA.Player('#playerCanvas');\n\t\t\t\tlet lastData = undefined;\n\t\t\t\t(function () {\n\t\t\t\t\tconst vscode = acquireVsCodeApi();\n\t\t\t\t\tconst svgaFn = (data) => {\n\t\t\t\t\t\tconst downloader = new Downloader();\n\t\t\t\t\t\t// 默认调用 WebWorker 线程解析\n\t\t\t\t\t\t// 可配置 new Parser({ disableWorker: true }) 禁止\n\t\t\t\t\t\tconsole.log("init play");\n\t\t\t\t\n\t\t\t\t\t\t(async () => {\n\t\t\t\t\t\t\tconst svgaData = await parser.do(data);\n\t\t\t\t\t\t\tawait player.mount(svgaData);\n\t\t\t\t\t\t\tplayer\n\t\t\t\t\t\t\t\t// 开始动画事件回调\n\t\t\t\t\t\t\t\t.$on('start', () => console.log('event start'))\n\t\t\t\t\t\t\t\t// 暂停动画事件回调\n\t\t\t\t\t\t\t\t.$on('pause', () => console.log('event pause'))\n\t\t\t\t\t\t\t\t// 停止动画事件回调\n\t\t\t\t\t\t\t\t.$on('stop', () => console.log('event stop'))\n\t\t\t\t\t\t\t\t// 动画结束事件回调\n\t\t\t\t\t\t\t\t.$on('end', () => console.log('event end'))\n\t\t\t\t\t\t\t\t// 清空动画事件回调\n\t\t\t\t\t\t\t\t.$on('clear', () => console.log('event clear'))\n\t\t\t\t\t\t\t\t// 动画播放中事件回调\n\t\t\t\t\t\t\t\t.$on('process', () => console.log('event process', player.progress));\n\t\t\t\t\t\t\t// 开始播放动画\n\t\t\t\t\t\t\tplayer.start();\n\t\t\t\t\t\t})();\n\t\t\t\t\t};\n\t\t\t\t\n\t\t\t\t\t// // Handle messages from the extension\n\t\t\t\t\twindow.addEventListener('message', async e => {\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\tbody,\n\t\t\t\t\t\t} = e.data;\n\t\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\t\tcase 'init': {\n\t\t\t\t\t\t\t\tconst originData = body.value.data;\n\t\t\t\t\t\t\t\tconst data = new Uint8Array(originData);\n\t\t\t\t\t\t\t\tconsole.log("originData=" + originData);\n\t\t\t\t\t\t\t\tconsole.log("data=" + data);\n\t\t\t\t\t\t\t\tlastData = data;\n\t\t\t\t\t\t\t\tsvgaFn(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvscode.postMessage({\n\t\t\t\t\t\ttype: 'ready'\n\t\t\t\t\t});\n\t\t\t\t}());\n\t\t\n\t\t\t\t//播放\n\t\t\t\tfunction startAnimation() {\n\t\t\t\t\tparser = new SVGA.Parser();\n\t\t\t\t    player = new SVGA.Player('#playerCanvas');\n\t\t\t\t\tconsole.log("startAnimation"+lastData);\n\t\t\t\t\t(async () => {\n\t\t\t\t\t\tconst svgaData = await parser.do(lastData);\n\t\t\t\t\t\tawait player.mount(svgaData);\n\t\t\t\t\t\t// 开始播放动画\n\t\t\t\t\t\tplayer.start();\n\t\t\t\t\t})();\n\t\t\t\t}\n\t\t\n\t\t\t\t//暂停\n\t\t\t\tfunction pauseAnimation() {\n\t\t\t\t\tconsole.log("pauseAnimation");\n\t\t\t\t\tplayer.pause();\n\t\t\t\t}\n\t\t\n\t\t\t\t//停止播放动画，如果 clearsAfterStop === true，将会清空画布\n\t\t\t\tfunction stopAnimation() {\n\t\t\t\t\tconsole.log("stopAnimation");\n\t\t\t\t\tplayer.stop();\n\t\t\t\t}\n\t\t\n\t\t\t\tfunction onSwitchBackground(target) {\n\t\t\t\t\tdocument.getElementById('playerCanvas').style.backgroundImage = getComputedStyle(target, null).backgroundImage;\n\t\t\t\t\tdocument.getElementById('playerCanvas').style.backgroundColor = getComputedStyle(target, null).backgroundColor;\n\t\t\t\t\tif (target.id === 'switch-bg-none') {\n\t\t\t\t\t\tdocument.getElementById('playerCanvas').style.borderWidth = '1px';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdocument.getElementById('playerCanvas').style.borderWidth = '0';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t<\/script>\n\t\t</body>\n\t\t\n\t\t</html>`}getHtmlContent(t,e,n){return`<!DOCTYPE html>\n\t\t\t\t<html lang="en">\n\t\t\t\t<head>\n\t\t\t\t\t<meta charset="UTF-8">\n\t\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t\t\t\t\t<title>SVGA-Player</title>\n\t\t\t\t</head>\n\t\t\t\t<style>\n\t\t\t\t\tbody,html {\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\tcolor:#fff;\n\t\t\t\t\t}\n\t\t\t\t</style>\t\n\t\t\t\t<body>\n\t\t\t\t\t<canvas id="playerCanvas"></canvas>\n\t\t\t\t\t<script nonce="${t}" src="${e}"><\/script>\n\t\t\t\t\t<script nonce="${t}" src="${n}"><\/script>\n\t\t\t\t</body>\n\t\t\t\t</html>`}postMessageWithResponse(t,e,n){const i=this._requestId++,s=new Promise((t=>this._callbacks.set(i,t)));return t.webview.postMessage({type:e,requestId:i,body:n}),s}postMessage(t,e,n){t.webview.postMessage({type:e,body:n})}onMessage(t,e){switch(e.type){case"stroke":return void t.makeEdit(e);case"response":{const t=this._callbacks.get(e.requestId);return void t?.(e.body)}}}}e.SvgaFileEditorProvider=d,d.viewType="svga.preview";class c{constructor(){this._webviews=new Set}*get(t){const e=t.toString();for(const t of this._webviews)t.resource===e&&(yield t.webviewPanel)}add(t,e){const n={resource:t.toString(),webviewPanel:e};this._webviews.add(n),e.onDidDispose((()=>{this._webviews.delete(n)}))}}},912:(t,e)=>{function n(t){for(;t.length;){const e=t.pop();e&&e.dispose()}}Object.defineProperty(e,"__esModule",{value:!0}),e.Disposable=e.disposeAll=void 0,e.disposeAll=n,e.Disposable=class{constructor(){this._isDisposed=!1,this._disposables=[]}dispose(){this._isDisposed||(this._isDisposed=!0,n(this._disposables))}_register(t){return this._isDisposed?t.dispose():this._disposables.push(t),t}get isDisposed(){return this._isDisposed}}},593:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getErrorPage=e.isJsonString=e.getNonce=void 0,e.getNonce=function(){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},e.isJsonString=function(t){try{let e=JSON.parse(t);if("object"==typeof e)return e.hasOwnProperty("v")&&e.hasOwnProperty("w")&&e.hasOwnProperty("h")}catch(t){}return!1},e.getErrorPage=function(t){return`<!DOCTYPE html>\n\t\t\t\t<html lang="en">\n\t\t\t\t<head>\n\t\t\t\t\t<meta charset="UTF-8">\n\t\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t\t\t\t\t<title>Lottie-Player</title>\n\t\t\t\t</head>\n\t\t\t\t<style>\n\t\t\t\t\tbody,html {\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\tcolor:#fff;\n\t\t\t\t\t}\n\t\t\t\t</style>\t\n\t\t\t\t<body>\n\t\t\t\t\t<h1>Sorry,it's not lottie json:\n \n</h1>\n          <h1></h1>\n          </br>\n        \n          <h4 style="display:block;">${t}</h4>\n\t\t\t\t</body>\n\t\t\t\t</html>`}},496:t=>{t.exports=require("vscode")},147:t=>{t.exports=require("fs")},17:t=>{t.exports=require("path")}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}var i={};(()=>{var t=i;Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const e=n(496),s=n(17),o=n(147),a=n(97),r=n(920);let d;function c(t,n){console.log("duqian.fileUri="+n);const i=n.path;d=void 0;let a=i.substring(i.lastIndexOf("/")+1,i.length);console.log("duqian.name ="+a),d=l(t,a);var r=i.lastIndexOf(".svga");console.log("duqian.index="+r);const c=r>0?"svga-kiss.html":"lottie.html",h=e.Uri.file(s.join(t.extensionPath,"media",c));let g=o.readFileSync(i,"utf8"),u=o.readFileSync(h.path,"utf8").replace("{animationData}",g);d.webview.html=u}function l(t,n){if(d){const t=e.window.activeTextEditor?e.window.activeTextEditor.viewColumn:void 0;d.reveal(t)}else d=e.window.createWebviewPanel("FlatWeb",n,e.ViewColumn.One,{localResourceRoots:[e.Uri.file(s.join(t.extensionPath,"media"))],enableScripts:!0}),console.log("init webview!");return d.onDidDispose((()=>{d=void 0}),null,t.subscriptions),d}n(593),t.activate=function(t){console.log('Congratulations, your extension "duqian" is now active!');let n=e.commands.registerCommand("duqian.helloflat",(()=>{e.window.showInformationMessage("Hello Flat, from DQVSCodePlugin!"+t.extensionUri),d=void 0,d=l(t,"FlatWeb");const n=e.Uri.file(s.join(t.extensionPath,"media","ic_launcher_round.png")),i=n.with({scheme:"vscode-resource"}),o=d.webview.asWebviewUri(n);var a;d.webview.html=(a=o,console.log("srcPath:"+a),`\n\t\t  <!DOCTYPE html>\n\t\t  <html lang="en">\n\t\t  <head>\n\t\t\t  <meta charset="UTF-8">\n\t\t\t  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n\t\t\t  <title>Dusan Coding</title>\n\t\t  </head>\n\t\t  <body>\n\t\t\t  \x3c!--<img src="https://media.giphy.com/media/JIX9t2j0ZTN9S/giphy.gif" width="300" />--\x3e\n\t\t\t  <img src="https://img1.kchuhai.com/ueditor/image/20210810/6376419298690944692274851.png" width="500"/>\n\t\t\t  <br/>\n\t\t\t  <img src="${a}" width="200" />\n\t\t  </body>\n\t\t  </html>\n\t  `),console.log(t.extensionUri),console.log("stylesResetUri="+o),console.log(i)}));t.subscriptions.push(n),t.subscriptions.push(e.commands.registerCommand("duqian.lottie",(async e=>{c(t,e)}))),t.subscriptions.push(e.commands.registerCommand("duqian.svga",(async e=>{c(t,e)}))),t.subscriptions.push(a.SvgaFileEditorProvider.register(t)),t.subscriptions.push(r.LottieFileEditorProvider.register(t))},t.deactivate=function(){}})(),module.exports=i})();