<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="description" content="LottiePlayer by 杜小菜，duqian2010@gmail.com">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>LottiePlayer</title>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.9.4/lottie.min.js"></script>-->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@0.2.0/dist/lottie-player.js"></script>
    <style>
      body{
         background-color:#CCCCCC;
      }
      #app {
        width: 400px;
        height: 400px;
        margin:10px auto;
      }
      #lottieTitle {
        width: 400px;
        height:30px;
        margin:10px auto;
        color:#FFFFFF;
        display:flex;
      }
      .title{
        height: 30px;
        line-height: 30px;
        margin: 0;
      }

    </style>

    <script>
    const testUrl = "https://assets3.lottiefiles.com/packages/lf20_UJNc2t.json"
    const animationData = '{jsonAnimationData}'
    var player = document.querySelector("lottie-player");

    function initPlayer() {
        player = document.querySelector("lottie-player");
        player.addEventListener("rendered", (e) => {
          player.load(testUrl);
          // or load via a Bodymovin JSON string/object
          player.load(
            animationData
          );
          console.warn('test',e)
      });
     }
    //播放
    function startAnimation(){
        initPlayer()
        player.play();
    }

    //暂停
    function pauseAnimation(){
        player.pause();
    }

    //停止播放动画
    function stopAnimation(){
        player.stop();
    }

    </script>
</head>
<body>
<div id="lottieTitle">
    <h5 class="title">LottiePlayer</h5>
    <button onclick="startAnimation()">Play</button>
    <button onclick="pauseAnimation()">Pause</button>
    <button onclick="stopAnimation()">Clear</button>
</div>
<div id="app">
    <lottie-player mode="normal" src="https://assets9.lottiefiles.com/datafiles/MUp3wlMDGtoK5FK/data.json"
                   background="transparent" speed="1" style="width: 500px; height: 500px;" loop controls
                   autoplay></lottie-player>
</div>
</body>
</html>